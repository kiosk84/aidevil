# Fortune Wheel Telegram Bot & Web App

## Описание

Данный проект — это комплексное решение для проведения лотерейной игры «Колесо Фортуны» с помощью Telegram-бота и современного веб-интерфейса. Система позволяет участникам регистрироваться, следить за призовым фондом, участвовать в розыгрышах и получать результаты в реальном времени.

---

## Основные функции

- **Telegram-бот**
  - Приветствие новых пользователей и вывод кнопки с переходом на официальный канал.
  - Регистрация участников через команду и подтверждение оплаты.
  - Админ-функции: подтверждение/отклонение участников, запуск розыгрыша, просмотр истории победителей и призового фонда.
  - Автоматический запуск розыгрыша по расписанию.

- **Веб-интерфейс**
  - Отображение призового фонда, текущих участников, таймера до следующего розыгрыша.
  - Кнопка «Участвовать» с современной анимацией.
  - Визуализация победителя, анимация фейерверка, история победителей.
  - Модальные окна для инструкций и подтверждения оплаты.

---

## Структура проекта

```
├── functions/
│   └── index.js           # Основная логика Telegram-бота и backend (Express, SQLite)
├── index.html             # Веб-интерфейс (React + кастомный JS)
├── README.md              # Описание проекта
└── ...                    # Прочие вспомогательные файлы
```

- **functions/index.js** — реализует Telegram-бота, API для фронтенда, работу с базой данных и бизнес-логику розыгрыша.
- **index.html** — одностраничное приложение (SPA) с React-компонентами, кастомной версткой и стилями.

---

## Технологии
- **Backend:** Node.js, Express, SQLite, telegraf
- **Frontend:** React (через Babel), HTML, CSS (Tailwind + кастомные стили)
- **API:** REST (Express)

---

## Как запустить
1. Установите зависимости (`npm install` для backend).
2. Запустите backend: `node functions/index.js`
3. Откройте `index.html` в браузере (или разверните на сервере).
4. Настройте Telegram-бота с помощью BotFather и пропишите токен в коде.

---

## Деплой на Railway
1. Убедитесь, что ваш репозиторий подключён к Railway.
2. В разделе **Variables** Dashboard укажите:
   - `FRONTEND_URL` (например `https://your-domain.railway.app`)
   - `DATABASE_URL` (Railway PostgreSQL или SQLite URL)
   - `TELEGRAM_BOT_TOKEN`
3. В разделе **Deploy** выберите ветку `main` и нажмите **Deploy**.
4. Railway автоматически запустит сервисы по `Procfile`:
   - `web: node server.js`
   - `worker: node functions/index.js`
5. После успешного деплоя проверьте логи в Railway Dashboard для подтверждения старта.

---

## Безопасность и администрирование
- Доступ к админ-командам ограничен по Telegram ID.
- Все действия с участниками и розыгрышами логируются.

---

## Контакты и поддержка
- [Официальный канал Telegram](https://t.me/channel_fortune)
- Для вопросов и предложений — пишите в Issues или на почту разработчика.

---

## Авторство
Разработка и поддержка: @your_nickname (замените на ваш контакт)

---

## Лицензия
MIT License
